componentsApi: "1.0"
generator:
  dofigen:
    builders:
      - from: "docker.io/oven/bun"
        workdir: /app
        root:
          script:
            - chown -R 1000:1000 /app
        adds:
          - "package.json"
          - "bun.lockb"
        script:
          - bun install --production
    from: builder-0
    root:
      script:
        - chmod +r -R /app
    adds:
      - .
    cmd:
      - bun run start
    envs:
      NODE_ENV: production
    ports:
      - 3000
    ignores:
      - "**"
      - "!/package.json"
      - "!/bun.lockb"
      - "!/src/"
